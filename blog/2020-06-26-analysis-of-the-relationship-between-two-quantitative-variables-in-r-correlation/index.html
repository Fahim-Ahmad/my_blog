<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analysis of the Relationship Between Two Quantitative
Variables | Correlation</title>
    <meta name="author" content="Fahim Ahmad" />
    <meta name="date" content="2020-06-26" />
    <meta name="categories" content="RStatistics" />
    <meta name="tags" content="RStatistics" />
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    
    <!-- font awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <!-- custom styles -->
    <link href="/styles.css" rel="stylesheet">
    <link href="/blog/src/blog-styles.css" rel="stylesheet">

    <!-- MathJax -->
    <script type="text/javascript" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light p-2 pl-md-5 pr-md-5 position-sticky border-bottom" style="top: 0; z-index: 100;">
        <div class="change-theme">
            <i class="fa-sharp fa-solid fa-moon text-muted mr-2"></i>
        </div>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse my-2 my-lg-0" id="navbarTogglerDemo02">
            <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                <li class="nav-item dropdown">
                    <a class="nav-link active dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Portfolio</a>
                    <div class="dropdown-menu">
                      <a class="dropdown-item" href="/publication"><small>Publications</small></a>
                      <a class="dropdown-item" href="/dashboard"><small>Dashboards</small></a>
                      <div class="dropdown-divider"></div>
                      <a class="dropdown-item" href="/blog"><small>Today I Learned</small></a>
                    </div>
                  </li>
                  <li class="nav-item"><a class="nav-link" href="/index.html">Home</a></li>
            </ul>
        </div>
    </nav>

    <div class="container p-4 blog-post">
        <header>
            <h1 class="title">Analysis of the Relationship Between Two
Quantitative Variables | Correlation</h1>
            <span class="author">Fahim Ahmad |</span>
            <span class="date">2020-06-26</span>
        </header>

        <div id="introduction" class="section level1">
        <h1>Introduction</h1>
        <p>In recent posts, we discussed <a
        href="../2020-04-18-what-is-central-tendency/">measures of
        central tendency</a> and <a
        href="../2020-05-21-measures-of-dispersion-using-r/">measures of
        dispersion</a>. But hey, that is the start of a long journey.
        Finding relationships between variables is more interesting than
        describing the distribution of the data.</p>
        <p>While studying, for example, the relationship between GDP and
        life expectancy, you might be interested to know whether there
        exists any relationship between the two indicators? is it a
        positive relationship or a negative relationship? and how strong
        the association is?</p>
        <p>The above questions can be answered by computing the
        correlation coefficient between the two indicators. Depending on
        the type of data, different methods of correlation exist. In
        this post, you will learn the Pearson correlation coefficient
        and the Spearman correlation coefficient.</p>
        </div>
        <div id="pearson-correlation" class="section level1">
        <h1>Pearson Correlation</h1>
        <p>Pearson correlation is a parametric correlation test that
        measures the strength and direction of a <strong>linear
        relationship</strong> between two variables. This method is by
        far the most used and best method for calculating the
        association between variables that follow a <strong>normal
        distribution</strong>.</p>
        <p>If the two variables are denoted by <code>x</code> and
        <code>y</code>, the Pearson correlation coefficient is defined
        as the ratio of covariance between <code>x</code> and
        <code>y</code> to the product of standard deviation of
        <code>x</code> and standard deviation of <code>y</code>.</p>
        <p><span class="math display">\[r =  (Covariance (x,y))
        \space/\space (S.D.(x)×S.D.(y))\]</span> Where,</p>
        <p><span class="math display">\[{Covariance(x,y) =
        \frac{∑^n_{i=1}(x_i-\bar{x})(y_i-\bar{y})}{\
        {n-1}}}\]</span></p>
        <p><span class="math display">\[{S.D.(x) =
        \sqrt\frac{∑^n_{i=1}(x_i-\bar{x})^2}{\ {n-1}}}\]</span></p>
        <p><span class="math display">\[{S.D.(y) =
        \sqrt\frac{∑^n_{i=1}(y_i-\bar{y})^2}{\ {n-1}}}\]</span></p>
        </div>
        <div id="spearman-rank-correlation" class="section level1">
        <h1>Spearman Rank Correlation</h1>
        <p>While the Pearson correlation is used to compute the degree
        of relationship between linearly related variables, the Spearman
        correlation indicates the monotonic relationship. The Pearson
        correlation is more appropriate for continuous data such as
        income, age, and height, while Spearman is more appropriate for
        ordinal data such as level of satisfaction, or level of
        happiness measured on a scale of 1 to 4.</p>
        <p>In other words, the Pearson correlation is used to compute
        the extent of association when there is an equal interval
        between the adjacent units of the input variables. For instance,
        an increase in income from 100 to 101 is equal to the increase
        from 500 to 501 or an increase in age from 18 to 19 is same as
        an increase in 38 to 39, while the Spearman correlation is
        widely used with the ordinal data such that one level can be
        considered higher or lower than another level, but the magnitude
        of the difference is not necessarily known or the same. For
        instance, “Strong satisfaction” is higher than the “Somewhat
        satisfaction” and “Somewhat dissatisfaction” is higher than
        “Strong dissatisfaction”. However, it can not be quantified how
        much higher/lower is one level compared to the other level.</p>
        <p>Moreover, since the Spearman correlation is based on the
        ranked values rather than the raw data and does not carry any
        assumption about the distribution of the data points, it can be
        used to measure the association between two continuous variables
        as well when the data are not distributed normally.</p>
        <p>The Spearman ranked correlation can be expressed as
        follow:</p>
        <p><span class="math display">\[rho =  (Covariance
        (x&#39;,y&#39;)) \space/\space
        (S.D.(x&#39;)×S.D.(y&#39;))\]</span></p>
        <p>Where <span class="math inline">\(x&#39;\)</span> is rank(x)
        and <span class="math inline">\(y&#39;\)</span> is rank(y).</p>
        </div>
        <div id="interpreting-the-correlation-coefficient"
        class="section level1">
        <h1>Interpreting the Correlation Coefficient</h1>
        <p>The correlation coefficient always lies between -1 and +1 and
        can’t go outside of this range. Where the sign of the
        correlation coefficient denotes the direction of the
        relationship between two variables and the absolute value of the
        correlation coefficient indicates the strength of association
        between two variables. A <code>+</code> sign indicates the
        positive relationship and a <code>-</code> sign indicates the
        negative relationship. Furthermore, the closer the correlation
        coefficient to -1 or +1, the stronger the relationship, and as
        it goes toward 0 the relationship will be weaker.</p>
        <p>How close is close enough to -1 or +1? I get too excited to
        see correlations beyond ±0.7. You can refer to below table while
        interpreting the correlation coefficient:</p>
        <div id="rtlxqdnwso" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
        <style>#rtlxqdnwso table {
          font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

        #rtlxqdnwso thead, #rtlxqdnwso tbody, #rtlxqdnwso tfoot, #rtlxqdnwso tr, #rtlxqdnwso td, #rtlxqdnwso th {
          border-style: none;
        }

        #rtlxqdnwso p {
          margin: 0;
          padding: 0;
        }

        #rtlxqdnwso .gt_table {
          display: table;
          border-collapse: collapse;
          line-height: normal;
          margin-left: auto;
          margin-right: auto;
          color: #333333;
          font-size: 16px;
          font-weight: normal;
          font-style: normal;
          background-color: #FFFFFF;
          width: auto;
          border-top-style: solid;
          border-top-width: 2px;
          border-top-color: #A8A8A8;
          border-right-style: none;
          border-right-width: 2px;
          border-right-color: #D3D3D3;
          border-bottom-style: solid;
          border-bottom-width: 2px;
          border-bottom-color: #A8A8A8;
          border-left-style: none;
          border-left-width: 2px;
          border-left-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_caption {
          padding-top: 4px;
          padding-bottom: 4px;
        }

        #rtlxqdnwso .gt_title {
          color: #333333;
          font-size: 125%;
          font-weight: initial;
          padding-top: 4px;
          padding-bottom: 4px;
          padding-left: 5px;
          padding-right: 5px;
          border-bottom-color: #FFFFFF;
          border-bottom-width: 0;
        }

        #rtlxqdnwso .gt_subtitle {
          color: #333333;
          font-size: 85%;
          font-weight: initial;
          padding-top: 3px;
          padding-bottom: 5px;
          padding-left: 5px;
          padding-right: 5px;
          border-top-color: #FFFFFF;
          border-top-width: 0;
        }

        #rtlxqdnwso .gt_heading {
          background-color: #FFFFFF;
          text-align: center;
          border-bottom-color: #FFFFFF;
          border-left-style: none;
          border-left-width: 1px;
          border-left-color: #D3D3D3;
          border-right-style: none;
          border-right-width: 1px;
          border-right-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_bottom_border {
          border-bottom-style: solid;
          border-bottom-width: 2px;
          border-bottom-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_col_headings {
          border-top-style: solid;
          border-top-width: 2px;
          border-top-color: #D3D3D3;
          border-bottom-style: solid;
          border-bottom-width: 2px;
          border-bottom-color: #D3D3D3;
          border-left-style: none;
          border-left-width: 1px;
          border-left-color: #D3D3D3;
          border-right-style: none;
          border-right-width: 1px;
          border-right-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_col_heading {
          color: #333333;
          background-color: #FFFFFF;
          font-size: 100%;
          font-weight: normal;
          text-transform: inherit;
          border-left-style: none;
          border-left-width: 1px;
          border-left-color: #D3D3D3;
          border-right-style: none;
          border-right-width: 1px;
          border-right-color: #D3D3D3;
          vertical-align: bottom;
          padding-top: 5px;
          padding-bottom: 6px;
          padding-left: 5px;
          padding-right: 5px;
          overflow-x: hidden;
        }

        #rtlxqdnwso .gt_column_spanner_outer {
          color: #333333;
          background-color: #FFFFFF;
          font-size: 100%;
          font-weight: normal;
          text-transform: inherit;
          padding-top: 0;
          padding-bottom: 0;
          padding-left: 4px;
          padding-right: 4px;
        }

        #rtlxqdnwso .gt_column_spanner_outer:first-child {
          padding-left: 0;
        }

        #rtlxqdnwso .gt_column_spanner_outer:last-child {
          padding-right: 0;
        }

        #rtlxqdnwso .gt_column_spanner {
          border-bottom-style: solid;
          border-bottom-width: 2px;
          border-bottom-color: #D3D3D3;
          vertical-align: bottom;
          padding-top: 5px;
          padding-bottom: 5px;
          overflow-x: hidden;
          display: inline-block;
          width: 100%;
        }

        #rtlxqdnwso .gt_spanner_row {
          border-bottom-style: hidden;
        }

        #rtlxqdnwso .gt_group_heading {
          padding-top: 8px;
          padding-bottom: 8px;
          padding-left: 5px;
          padding-right: 5px;
          color: #333333;
          background-color: #FFFFFF;
          font-size: 100%;
          font-weight: initial;
          text-transform: inherit;
          border-top-style: solid;
          border-top-width: 2px;
          border-top-color: #D3D3D3;
          border-bottom-style: solid;
          border-bottom-width: 2px;
          border-bottom-color: #D3D3D3;
          border-left-style: none;
          border-left-width: 1px;
          border-left-color: #D3D3D3;
          border-right-style: none;
          border-right-width: 1px;
          border-right-color: #D3D3D3;
          vertical-align: middle;
          text-align: left;
        }

        #rtlxqdnwso .gt_empty_group_heading {
          padding: 0.5px;
          color: #333333;
          background-color: #FFFFFF;
          font-size: 100%;
          font-weight: initial;
          border-top-style: solid;
          border-top-width: 2px;
          border-top-color: #D3D3D3;
          border-bottom-style: solid;
          border-bottom-width: 2px;
          border-bottom-color: #D3D3D3;
          vertical-align: middle;
        }

        #rtlxqdnwso .gt_from_md > :first-child {
          margin-top: 0;
        }

        #rtlxqdnwso .gt_from_md > :last-child {
          margin-bottom: 0;
        }

        #rtlxqdnwso .gt_row {
          padding-top: 8px;
          padding-bottom: 8px;
          padding-left: 5px;
          padding-right: 5px;
          margin: 10px;
          border-top-style: solid;
          border-top-width: 1px;
          border-top-color: #D3D3D3;
          border-left-style: none;
          border-left-width: 1px;
          border-left-color: #D3D3D3;
          border-right-style: none;
          border-right-width: 1px;
          border-right-color: #D3D3D3;
          vertical-align: middle;
          overflow-x: hidden;
        }

        #rtlxqdnwso .gt_stub {
          color: #333333;
          background-color: #FFFFFF;
          font-size: 100%;
          font-weight: initial;
          text-transform: inherit;
          border-right-style: solid;
          border-right-width: 2px;
          border-right-color: #D3D3D3;
          padding-left: 5px;
          padding-right: 5px;
        }

        #rtlxqdnwso .gt_stub_row_group {
          color: #333333;
          background-color: #FFFFFF;
          font-size: 100%;
          font-weight: initial;
          text-transform: inherit;
          border-right-style: solid;
          border-right-width: 2px;
          border-right-color: #D3D3D3;
          padding-left: 5px;
          padding-right: 5px;
          vertical-align: top;
        }

        #rtlxqdnwso .gt_row_group_first td {
          border-top-width: 2px;
        }

        #rtlxqdnwso .gt_row_group_first th {
          border-top-width: 2px;
        }

        #rtlxqdnwso .gt_summary_row {
          color: #333333;
          background-color: #FFFFFF;
          text-transform: inherit;
          padding-top: 8px;
          padding-bottom: 8px;
          padding-left: 5px;
          padding-right: 5px;
        }

        #rtlxqdnwso .gt_first_summary_row {
          border-top-style: solid;
          border-top-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_first_summary_row.thick {
          border-top-width: 2px;
        }

        #rtlxqdnwso .gt_last_summary_row {
          padding-top: 8px;
          padding-bottom: 8px;
          padding-left: 5px;
          padding-right: 5px;
          border-bottom-style: solid;
          border-bottom-width: 2px;
          border-bottom-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_grand_summary_row {
          color: #333333;
          background-color: #FFFFFF;
          text-transform: inherit;
          padding-top: 8px;
          padding-bottom: 8px;
          padding-left: 5px;
          padding-right: 5px;
        }

        #rtlxqdnwso .gt_first_grand_summary_row {
          padding-top: 8px;
          padding-bottom: 8px;
          padding-left: 5px;
          padding-right: 5px;
          border-top-style: double;
          border-top-width: 6px;
          border-top-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_last_grand_summary_row_top {
          padding-top: 8px;
          padding-bottom: 8px;
          padding-left: 5px;
          padding-right: 5px;
          border-bottom-style: double;
          border-bottom-width: 6px;
          border-bottom-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_striped {
          background-color: rgba(128, 128, 128, 0.05);
        }

        #rtlxqdnwso .gt_table_body {
          border-top-style: solid;
          border-top-width: 2px;
          border-top-color: #D3D3D3;
          border-bottom-style: solid;
          border-bottom-width: 2px;
          border-bottom-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_footnotes {
          color: #333333;
          background-color: #FFFFFF;
          border-bottom-style: none;
          border-bottom-width: 2px;
          border-bottom-color: #D3D3D3;
          border-left-style: none;
          border-left-width: 2px;
          border-left-color: #D3D3D3;
          border-right-style: none;
          border-right-width: 2px;
          border-right-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_footnote {
          margin: 0px;
          font-size: 90%;
          padding-top: 4px;
          padding-bottom: 4px;
          padding-left: 5px;
          padding-right: 5px;
        }

        #rtlxqdnwso .gt_sourcenotes {
          color: #333333;
          background-color: #FFFFFF;
          border-bottom-style: none;
          border-bottom-width: 2px;
          border-bottom-color: #D3D3D3;
          border-left-style: none;
          border-left-width: 2px;
          border-left-color: #D3D3D3;
          border-right-style: none;
          border-right-width: 2px;
          border-right-color: #D3D3D3;
        }

        #rtlxqdnwso .gt_sourcenote {
          font-size: 90%;
          padding-top: 4px;
          padding-bottom: 4px;
          padding-left: 5px;
          padding-right: 5px;
        }

        #rtlxqdnwso .gt_left {
          text-align: left;
        }

        #rtlxqdnwso .gt_center {
          text-align: center;
        }

        #rtlxqdnwso .gt_right {
          text-align: right;
          font-variant-numeric: tabular-nums;
        }

        #rtlxqdnwso .gt_font_normal {
          font-weight: normal;
        }

        #rtlxqdnwso .gt_font_bold {
          font-weight: bold;
        }

        #rtlxqdnwso .gt_font_italic {
          font-style: italic;
        }

        #rtlxqdnwso .gt_super {
          font-size: 65%;
        }

        #rtlxqdnwso .gt_footnote_marks {
          font-size: 75%;
          vertical-align: 0.4em;
          position: initial;
        }

        #rtlxqdnwso .gt_asterisk {
          font-size: 100%;
          vertical-align: 0;
        }

        #rtlxqdnwso .gt_indent_1 {
          text-indent: 5px;
        }

        #rtlxqdnwso .gt_indent_2 {
          text-indent: 10px;
        }

        #rtlxqdnwso .gt_indent_3 {
          text-indent: 15px;
        }

        #rtlxqdnwso .gt_indent_4 {
          text-indent: 20px;
        }

        #rtlxqdnwso .gt_indent_5 {
          text-indent: 25px;
        }
        </style>
        <table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
          <thead>
            <tr class="gt_heading">
              <td colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Interpreting the Correlation Coefficient</td>
            </tr>
            
            <tr class="gt_col_headings">
              <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="background-color: #BEBEBE; color: #FFFFFF; text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;" scope="col" id="Correlation coefficient">Correlation coefficient</th>
              <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="background-color: #BEBEBE; color: #FFFFFF; text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;" scope="col" id="Meaning">Meaning</th>
            </tr>
          </thead>
          <tbody class="gt_table_body">
            <tr><td headers="Correlation coefficient" class="gt_row gt_right" style="background-color: #B03060; color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">-1.0</td>
        <td headers="Meaning" class="gt_row gt_left" style="background-color: #B03060; color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">Perfect negative relationship</td></tr>
            <tr><td headers="Correlation coefficient" class="gt_row gt_right" style="background-color: rgba(176,48,96,0.7); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">-0.7</td>
        <td headers="Meaning" class="gt_row gt_left" style="background-color: rgba(176,48,96,0.7); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">Strong negative relationship</td></tr>
            <tr><td headers="Correlation coefficient" class="gt_row gt_right" style="background-color: rgba(176,48,96,0.5); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">-0.5</td>
        <td headers="Meaning" class="gt_row gt_left" style="background-color: rgba(176,48,96,0.5); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">Moderate negative relationship</td></tr>
            <tr><td headers="Correlation coefficient" class="gt_row gt_right" style="background-color: rgba(176,48,96,0.3); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">-0.3</td>
        <td headers="Meaning" class="gt_row gt_left" style="background-color: rgba(176,48,96,0.3); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">Weak negative relationship</td></tr>
            <tr><td headers="Correlation coefficient" class="gt_row gt_right" style="background-color: rgba(176,48,96,0.1); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">0.0</td>
        <td headers="Meaning" class="gt_row gt_left" style="background-color: rgba(176,48,96,0.1); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">No relationship</td></tr>
            <tr><td headers="Correlation coefficient" class="gt_row gt_right" style="background-color: rgba(176,48,96,0.3); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">0.3</td>
        <td headers="Meaning" class="gt_row gt_left" style="background-color: rgba(176,48,96,0.3); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">Weak positive relationship</td></tr>
            <tr><td headers="Correlation coefficient" class="gt_row gt_right" style="background-color: rgba(176,48,96,0.5); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">0.5</td>
        <td headers="Meaning" class="gt_row gt_left" style="background-color: rgba(176,48,96,0.5); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">Moderate positive relationship</td></tr>
            <tr><td headers="Correlation coefficient" class="gt_row gt_right" style="background-color: rgba(176,48,96,0.7); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">0.7</td>
        <td headers="Meaning" class="gt_row gt_left" style="background-color: rgba(176,48,96,0.7); color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">Strong positive relationship</td></tr>
            <tr><td headers="Correlation coefficient" class="gt_row gt_right" style="background-color: #B03060; color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">1.0</td>
        <td headers="Meaning" class="gt_row gt_left" style="background-color: #B03060; color: #000000; text-align: left; border-left-width: 1px; border-left-style: solid; border-left-color: #000000; border-right-width: 1px; border-right-style: solid; border-right-color: #000000; border-top-width: 1px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000;">Perfect positive relationship</td></tr>
          </tbody>
          
          
        </table>
        </div>
        </div>
        <div id="computing-correlation-coefficient-in-r"
        class="section level1">
        <h1>Computing Correlation Coefficient in R</h1>
        <p>In the example below, we have a table of time series data of
        global GDP per capita and life expectancy from 1960 to 2018.
        Let’s find if if a higher GDP per capita can predict a higher
        life expectancy, and to what extent both indicators are
        correlated to each other.</p>
        <table>
        <thead>
        <tr class="header">
        <th align="left">year</th>
        <th align="right">life_exp</th>
        <th align="right">gdp_pc</th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td align="left">1960</td>
        <td align="right">52.57821</td>
        <td align="right">452.1089</td>
        </tr>
        <tr class="even">
        <td align="left">1961</td>
        <td align="right">53.07938</td>
        <td align="right">464.0490</td>
        </tr>
        <tr class="odd">
        <td align="left">1962</td>
        <td align="right">53.49664</td>
        <td align="right">489.5471</td>
        </tr>
        <tr class="even">
        <td align="left">1963</td>
        <td align="right">54.02187</td>
        <td align="right">516.6151</td>
        </tr>
        <tr class="odd">
        <td align="left">1964</td>
        <td align="right">54.69176</td>
        <td align="right">554.5533</td>
        </tr>
        <tr class="even">
        <td align="left">1965</td>
        <td align="right">55.35094</td>
        <td align="right">591.7181</td>
        </tr>
        <tr class="odd">
        <td align="left">1966</td>
        <td align="right">56.08243</td>
        <td align="right">628.7388</td>
        </tr>
        <tr class="even">
        <td align="left">1967</td>
        <td align="right">56.78712</td>
        <td align="right">655.8735</td>
        </tr>
        <tr class="odd">
        <td align="left">1968</td>
        <td align="right">57.38625</td>
        <td align="right">693.9011</td>
        </tr>
        <tr class="even">
        <td align="left">1969</td>
        <td align="right">57.99542</td>
        <td align="right">749.7251</td>
        </tr>
        <tr class="odd">
        <td align="left">1970</td>
        <td align="right">58.58291</td>
        <td align="right">803.9466</td>
        </tr>
        <tr class="even">
        <td align="left">1971</td>
        <td align="right">59.11015</td>
        <td align="right">870.4373</td>
        </tr>
        <tr class="odd">
        <td align="left">1972</td>
        <td align="right">59.59617</td>
        <td align="right">984.5294</td>
        </tr>
        <tr class="even">
        <td align="left">1973</td>
        <td align="right">60.04475</td>
        <td align="right">1178.0889</td>
        </tr>
        <tr class="odd">
        <td align="left">1974</td>
        <td align="right">60.54026</td>
        <td align="right">1332.8028</td>
        </tr>
        <tr class="even">
        <td align="left">1975</td>
        <td align="right">60.98629</td>
        <td align="right">1457.1544</td>
        </tr>
        <tr class="odd">
        <td align="left">1976</td>
        <td align="right">61.40832</td>
        <td align="right">1556.8154</td>
        </tr>
        <tr class="even">
        <td align="left">1977</td>
        <td align="right">61.83214</td>
        <td align="right">1729.5263</td>
        </tr>
        <tr class="odd">
        <td align="left">1978</td>
        <td align="right">62.19287</td>
        <td align="right">2005.1087</td>
        </tr>
        <tr class="even">
        <td align="left">1979</td>
        <td align="right">62.55490</td>
        <td align="right">2288.6660</td>
        </tr>
        <tr class="odd">
        <td align="left">1980</td>
        <td align="right">62.84117</td>
        <td align="right">2532.7632</td>
        </tr>
        <tr class="even">
        <td align="left">1981</td>
        <td align="right">63.18203</td>
        <td align="right">2576.6880</td>
        </tr>
        <tr class="odd">
        <td align="left">1982</td>
        <td align="right">63.50846</td>
        <td align="right">2507.3214</td>
        </tr>
        <tr class="even">
        <td align="left">1983</td>
        <td align="right">63.75660</td>
        <td align="right">2513.1282</td>
        </tr>
        <tr class="odd">
        <td align="left">1984</td>
        <td align="right">64.02116</td>
        <td align="right">2560.9983</td>
        </tr>
        <tr class="even">
        <td align="left">1985</td>
        <td align="right">64.27871</td>
        <td align="right">2643.7584</td>
        </tr>
        <tr class="odd">
        <td align="left">1986</td>
        <td align="right">64.57943</td>
        <td align="right">3069.9131</td>
        </tr>
        <tr class="even">
        <td align="left">1987</td>
        <td align="right">64.83061</td>
        <td align="right">3431.5807</td>
        </tr>
        <tr class="odd">
        <td align="left">1988</td>
        <td align="right">65.03467</td>
        <td align="right">3772.4014</td>
        </tr>
        <tr class="even">
        <td align="left">1989</td>
        <td align="right">65.24723</td>
        <td align="right">3870.4130</td>
        </tr>
        <tr class="odd">
        <td align="left">1990</td>
        <td align="right">65.43349</td>
        <td align="right">4285.2353</td>
        </tr>
        <tr class="even">
        <td align="left">1991</td>
        <td align="right">65.61949</td>
        <td align="right">4464.6543</td>
        </tr>
        <tr class="odd">
        <td align="left">1992</td>
        <td align="right">65.77051</td>
        <td align="right">4668.2405</td>
        </tr>
        <tr class="even">
        <td align="left">1993</td>
        <td align="right">65.88757</td>
        <td align="right">4669.5816</td>
        </tr>
        <tr class="odd">
        <td align="left">1994</td>
        <td align="right">66.08953</td>
        <td align="right">4939.8349</td>
        </tr>
        <tr class="even">
        <td align="left">1995</td>
        <td align="right">66.27814</td>
        <td align="right">5412.3441</td>
        </tr>
        <tr class="odd">
        <td align="left">1996</td>
        <td align="right">66.55982</td>
        <td align="right">5453.3128</td>
        </tr>
        <tr class="even">
        <td align="left">1997</td>
        <td align="right">66.84463</td>
        <td align="right">5357.0692</td>
        </tr>
        <tr class="odd">
        <td align="left">1998</td>
        <td align="right">67.08683</td>
        <td align="right">5272.6333</td>
        </tr>
        <tr class="even">
        <td align="left">1999</td>
        <td align="right">67.29315</td>
        <td align="right">5395.9428</td>
        </tr>
        <tr class="odd">
        <td align="left">2000</td>
        <td align="right">67.54925</td>
        <td align="right">5498.3297</td>
        </tr>
        <tr class="even">
        <td align="left">2001</td>
        <td align="right">67.82180</td>
        <td align="right">5396.8919</td>
        </tr>
        <tr class="odd">
        <td align="left">2002</td>
        <td align="right">68.07043</td>
        <td align="right">5533.4253</td>
        </tr>
        <tr class="even">
        <td align="left">2003</td>
        <td align="right">68.32699</td>
        <td align="right">6131.2232</td>
        </tr>
        <tr class="odd">
        <td align="left">2004</td>
        <td align="right">68.65235</td>
        <td align="right">6820.6152</td>
        </tr>
        <tr class="even">
        <td align="left">2005</td>
        <td align="right">68.92032</td>
        <td align="right">7297.1534</td>
        </tr>
        <tr class="odd">
        <td align="left">2006</td>
        <td align="right">69.26243</td>
        <td align="right">7811.9362</td>
        </tr>
        <tr class="even">
        <td align="left">2007</td>
        <td align="right">69.59208</td>
        <td align="right">8694.9003</td>
        </tr>
        <tr class="odd">
        <td align="left">2008</td>
        <td align="right">69.89930</td>
        <td align="right">9423.7573</td>
        </tr>
        <tr class="even">
        <td align="left">2009</td>
        <td align="right">70.24658</td>
        <td align="right">8830.3069</td>
        </tr>
        <tr class="odd">
        <td align="left">2010</td>
        <td align="right">70.55621</td>
        <td align="right">9551.3357</td>
        </tr>
        <tr class="even">
        <td align="left">2011</td>
        <td align="right">70.88413</td>
        <td align="right">10488.3340</td>
        </tr>
        <tr class="odd">
        <td align="left">2012</td>
        <td align="right">71.17172</td>
        <td align="right">10605.2083</td>
        </tr>
        <tr class="even">
        <td align="left">2013</td>
        <td align="right">71.46224</td>
        <td align="right">10781.8553</td>
        </tr>
        <tr class="odd">
        <td align="left">2014</td>
        <td align="right">71.74238</td>
        <td align="right">10952.3444</td>
        </tr>
        <tr class="even">
        <td align="left">2015</td>
        <td align="right">71.94752</td>
        <td align="right">10246.5074</td>
        </tr>
        <tr class="odd">
        <td align="left">2016</td>
        <td align="right">72.18048</td>
        <td align="right">10281.9088</td>
        </tr>
        <tr class="even">
        <td align="left">2017</td>
        <td align="right">72.38530</td>
        <td align="right">10817.4819</td>
        </tr>
        <tr class="odd">
        <td align="left">2018</td>
        <td align="right">72.56006</td>
        <td align="right">11381.6806</td>
        </tr>
        <tr class="even">
        <td align="left">2019</td>
        <td align="right">NA</td>
        <td align="right">11435.6099</td>
        </tr>
        </tbody>
        </table>
        <p>First thing first, let’s plot the data points to explore if
        there exists any relationship between the two indicators or not,
        and if the data points vary together. This is done through a
        scatter-plot.</p>
        <div class="sourceCode" id="cb1"><pre
        class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_pc, <span class="at">y =</span> life_exp)) <span class="sc">+</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;GDP per capita and life expectancy, 1960-2018&quot;</span>)</span></code></pre></div>
        <pre><code>## Warning: Removed 1 rows containing missing values (`geom_point()`).</code></pre>
        <p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
        <p>Since the points are moving from the lower-left corner to the
        upper-right corner. Thus, a positive relationship exists<a
        href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.
        However, it does not indicate the extent of the relationship
        between the variables.</p>
        <p>Next, the normality test should be performed to check whether
        the data follow a normal distribution or not. This can be tested
        visually through <strong>qq-plot</strong> or
        <strong>histogram</strong>:</p>
        <div class="sourceCode" id="cb3"><pre
        class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>qq1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> life_exp)) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;life expectancy&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>qq2 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> gdp_pc)) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;GDP per capita&quot;</span>)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>hist1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> life_exp)) <span class="sc">+</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;orange&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;life expectancy&quot;</span>)</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>hist2 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_pc)) <span class="sc">+</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;orange&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;GDP per capita&quot;</span>)</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>(qq1 <span class="sc">|</span> qq2) <span class="sc">/</span> (hist1 <span class="sc">/</span> hist2) <span class="sc">&amp;</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
        <pre><code>## Warning: Removed 1 rows containing non-finite values (`stat_qq()`).</code></pre>
        <pre><code>## Warning: Removed 1 rows containing non-finite values (`stat_bin()`).</code></pre>
        <p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="960" /></p>
        <p>From the above plots it can easily be drawn that the data
        points do not follow a normal distribution, but the more precise
        way to check the normality of distribution is to use a
        statistical test. The <code>shapiro.test()</code> function
        performs the Shapiro-Wilk test of normality.</p>
        <div class="sourceCode" id="cb6"><pre
        class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">shapiro.test</span>(df<span class="sc">$</span>gdp_pc)</span></code></pre></div>
        <pre><code>
    Shapiro-Wilk normality test

data:  df$gdp_pc
W = 0.89361, p-value = 7.756e-05</code></pre>
        <div class="sourceCode" id="cb8"><pre
        class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">shapiro.test</span>(df<span class="sc">$</span>life_exp)</span></code></pre></div>
        <pre><code>
    Shapiro-Wilk normality test

data:  df$life_exp
W = 0.9538, p-value = 0.02537</code></pre>
        <p>The null hypothesis in the Shapiro-Wilk test is that the data
        are normally distributed. Therefore, a p-value of less than the
        significance level, or less than 0.05 indicates the data points
        are not normally distributed.</p>
        <p>After testing the assumptions, you can decide to choose
        either Pearson or Spearman correlation. The
        <code>cor.test()</code> function can be used for evaluating the
        association between variables.</p>
        <div class="sourceCode" id="cb10"><pre
        class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">cor.test</span>(df<span class="sc">$</span>gdp_pc, df<span class="sc">$</span>life_exp, <span class="at">method =</span> <span class="st">&quot;pearson&quot;</span>) </span></code></pre></div>
        <pre><code>
    Pearson&#39;s product-moment correlation

data:  df$gdp_pc and df$life_exp
t = 18.088, df = 57, p-value &lt; 2.2e-16
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.8730810 0.9535685
sample estimates:
      cor 
0.9228352 </code></pre>
        <div class="sourceCode" id="cb12"><pre
        class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">cor.test</span>(df<span class="sc">$</span>gdp_pc, df<span class="sc">$</span>life_exp, <span class="at">method =</span> <span class="st">&quot;spearman&quot;</span>)</span></code></pre></div>
        <pre><code>
    Spearman&#39;s rank correlation rho

data:  df$gdp_pc and df$life_exp
S = 134, p-value &lt; 2.2e-16
alternative hypothesis: true rho is not equal to 0
sample estimates:
      rho 
0.9960842 </code></pre>
        <p>As shown above, both Pearson and Spearman’s correlation
        coefficient is above 0.9 which indicates a strong correlation
        between the two indicators. In other words, as GDP per capita
        increases life expectancy increases as well.</p>
        </div>
        <div class="footnotes footnotes-end-of-document">
        <hr />
        <ol>
        <li id="fn1"><p>If there exists a positive correlation, the
        points will be moving from the lower-left to the upper-right
        corner. Similarly, if there is a negative correlation, the
        points will be moving down from the upper-left corner to the
        lower right corner. In case the points are scattered and do not
        form any pattern, it depicts that no relationship exists between
        the variables.<a href="#fnref1"
        class="footnote-back">↩︎</a></p></li>
        </ol>
        </div>
 
    </div>

    <footer class="p-4 border-top">
        <p class="text-center text-muted">© <span class="currentYear text-muted"></span> Fahim Ahmad</p>
    </footer>

    <!-- jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>

    <!-- custom javascript -->
    <script src="/script.js"></script>
    <script src="/blog/src/blog-script.js"></script>
</body>
</html>
